<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<!DOCTYPE html>
<html lang="en">
<head>
  <jsp:include page="../includes/head.jsp"></jsp:include>
</head>
<body>
<!-- ======= Top Bar ======= -->
  <!-- ======= Header ======= -->
  <jsp:include page="../includes/header.jsp"/>
  
  <!-- End Header -->
	<!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-newsletter">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <form action="" method="post">
              <input type="text" name="search"><input type="submit" value="creative search...">
            </form>
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End Footer -->
<!-- ======= About Section ======= -->
    <section id="about" class="about section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2><a href="${pageContext.request.contextPath}/board/register">Post regist</a></h2>
        </div>
      </div>
    </section><!-- End About Section -->
    <!-- ======= Prototype Section ======= -->
    <section id="portfolio" class="portfolio">
      <div class="container" data-aos="fade-up">
        <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">
		<c:forEach items="${project}" var="board" varStatus="vs">
			<div class="col-lg-4 col-md-6 portfolio-item filter-app">
				<style> img { width:360px} </style>
            	<c:out value="${board.content}" escapeXml="false"/>
            <div class="portfolio-info">
              <h4><c:out value="${board.title}"/>${board.bno}</h4>
              <p><c:out value="${board.id}"/></p>
              <button class="my-button" data-bno="${board.bno}">details</button>
              <a href="assets/img/portfolio/portfolio-1.jpg"  data-gallery="portfolioGallery" class="portfolio-lightbox preview-link" title="App 1"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>
		</c:forEach>
      </div>
    </section><!-- End Prototype Section -->
   <!-- List Modal-->
</div>
<script src="${pageContext.request.contextPath}/resources/js/project.js"></script>
    <script type="text/javascript">
       /*  $(function() {

            $('.my-button').bind('click', function(e) {
                e.preventDefault();
                $('#element_to_pop_up').bPopup({
                         speed:450,
                         contentContainer:'.content',
                         loadUrl : "detailsTest"
                });
            });
            
         }); */
         
         
         var $div = $(".portfolio-info");
         
         //모달내용이 뜨는 위치, 버튼
         $div.on("click", "button", function() {
             var bno = $(this).data("bno");
             console.log(bno);
             projectService.get(bno, function(data) {
            	 console.log(data);
            	 console.log(data.content);
	             $("#myModal").find(".modal-body").html(data.content).end().modal("show");// ;
             })
             /* projectService.get(bno, function(data) {
		     	//모달 내용
		     	$("#myModal").data("bno", data.bno).modal("show");
             }); */
         })
    </script>
    
    
    <!-- ======= Footer ======= -->
  <jsp:include page="../includes/footer.jsp"/>
  <!-- End Footer -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
    	<style>
    	.modal-body img {max-width: 100% !important; height:auto !important;}
    	</style>
        <div class="modal-content">
            <div class="modal-body">
            
            </div>
        </div>
    </div>
</div>
  <jsp:include page="../includes/foot.jsp" />
</body>

</html>